<link rel="stylesheet" type="text/css" href="/css/base.css">
<link rel="stylesheet" type="text/css" href="/css/changelists.css">
<script type="text/javascript" src="http://gc.kis.v2.scr.kaspersky-labs.com/FD126C42-EBFA-4E12-B309-BB3FDD723AC1/main.js?attr=2viOzwXU4J_E98K9YRrmw0MpB-DKC2Jg46UTdPyRpY6jdine5SkkTq00egKHTKYI9d96c8qIIaeCnApt8399iU9dhmMEY0nk41kyMnsguY7IkJABB2WMUGtfEWNaNBaKBsdwFeoWtb2rW0mPILCTiw" charset="UTF-8"></script><link rel="stylesheet" crossorigin="anonymous" href="http://gc.kis.v2.scr.kaspersky-labs.com/E3E8934C-235A-4B0E-825A-35A08381A191/abn/main.css?attr=aHR0cDovL2VjMi0xMjItMjQ4LTIyOS00Ny5hcC1zb3V0aGVhc3QtMS5jb21wdXRlLmFtYXpvbmF3cy5jb206ODAwMC9hZG1pbi9sb2dnZXIvc2l0ZS8"/><script type="text/javascript" src="/admin/jsi18n/"></script>
<meta name="viewport" content="user-scalable=no, width=device-width, initial-scale=1.0, maximum-scale=1.0">
<link rel="stylesheet" type="text/css" href="/css/responsive.css">
<div class="breadcrumbs">
  <a href="/dashboard/">Dashboard</a> > <a href="/dashboard/sites/">Sites</a>
</div>
<body>
  <div class = "add_button"> 
    <a href="/dashboard/sites/add_site" class="addlink">Add New Site</a>
  </div>
  <table class="mod_table">
    <tr>
      <th>Site Name</th>
      <th>Associated Project</th>
      <th>Device Type</th>
      <th>Device Serial Number</th>
    </tr>
    <% data.forEach((site) => { %>
      <tr>
        <td style="text-decoration: underline;"><a href="/dashboard/sites/<%= site.site_id %>"><%= site.site_name %></a></td>
        <td><%= site.project_id %></td>
        <td><%= site.device_type %></td>
        <td><%= site.device_serial_number %></td>
        <td class="longcol3" style="vertical-align: middle;"><a href="/dashboard/sites/<%= site.site_id %>/edit" class="changelink">Edit Site</a> <a href="/dashboard/sites/<%= site.site_id %>/deleted" onclick="return confirmDelete()" class="deletelink">Delete</a></td>  
      </tr>
    <% }); %>
  </table>
</body>

<!-- JavaScript code for the confirmation dialog -->
<script>
  function confirmDelete() {
    const confirmDialog = confirm('Are you sure you want to delete this item?');
    if (confirmDialog) {
      return true; 
    } else {
      return false; 
    }
  }
  </script>